<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naval War: Rome vs Greece</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="ocean-canvas"></canvas>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SPLASH SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen" id="splash-screen">
        <div class="splash-container">
            <h1 class="splash-title">‚öîÔ∏è Naval War ‚öîÔ∏è</h1>
            <p class="splash-subtitle">Rome vs Greece</p>
            <div class="splash-image-wrapper">
                <img class="splash-image" src="assets/splash-army.svg" alt="Roman army raising weapons in salute">
            </div>
            <p class="splash-quote">"Ave Imperator, morituri te salutant!"</p>
            <p class="splash-quote-translation">We who are about to die, salute you!</p>
            <button id="splash-continue-btn" class="splash-continue-btn">‚öîÔ∏è Enter the Arena</button>
            <audio id="splash-audio" src="assets/gladiator-oath.mp3" preload="auto" autoplay></audio>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FACTION SELECTION SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen hidden" id="faction-screen">
        <div class="splash-container">
            <h1 class="splash-title">Choose Your Faction</h1>
            <p class="splash-subtitle">Who will command the fleet?</p>
            <div class="faction-buttons">
                <button class="faction-btn faction-btn-rome" data-faction="rome">
                    <span class="faction-icon">&#x1f3db;</span>
                    <span class="faction-name">Rome</span>
                    <span class="faction-desc">Command the Roman Fleet</span>
                </button>
                <button class="faction-btn faction-btn-greece" data-faction="greece">
                    <span class="faction-icon">&#x1f3fa;</span>
                    <span class="faction-name">Greece</span>
                    <span class="faction-desc">Command the Greek Fleet</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SETUP SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen hidden" id="setup-screen">
        <div class="container">
            <header>
                <h1>‚öîÔ∏è Naval War: Rome vs Greece ‚öîÔ∏è</h1>
                <p class="subtitle">Position your fleet, Commander.</p>
            </header>

            <div class="help-wrapper">
                <button id="help-btn" class="help-btn">Never Played - Click Here</button>
                <div id="help-dropdown" class="help-dropdown hidden">
                    <h3>How to Play</h3>
                    <div class="help-section">
                        <h4>1. Setup Phase</h4>
                        <ul>
                            <li>Select difficulty level (Easy, Medium, Hard, or Expert)</li>
                            <li>Place your 5 ships on the grid</li>
                            <li>You can place ships manually or use the "üé≤ Random" button for automatic placement</li>
                        </ul>
                    </div>
                    <div class="help-section">
                        <h4>2. Ship Information</h4>
                        <ul>
                            <li>Quinquereme (5 cells)</li>
                            <li>Roman Trireme (4 cells)</li>
                            <li>Greek Trireme (3 cells)</li>
                            <li>Bireme (3 cells)</li>
                            <li>Scout Galley (2 cells)</li>
                        </ul>
                    </div>
                    <div class="help-section">
                        <h4>3. Battle Phase</h4>
                        <ul>
                            <li>Click on cells in the enemy grid to fire</li>
                            <li>Try to sink all 5 enemy ships before they sink yours</li>
                        </ul>
                    </div>
                    <div class="help-section">
                        <h4>4. Win Condition</h4>
                        <ul>
                            <li>Sink all enemy ships to win the game</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Difficulty Selector -->
            <div class="difficulty-bar">
                <span class="diff-label">Difficulty:</span>
                <button class="diff-btn active" data-diff="easy">Easy</button>
                <button class="diff-btn" data-diff="medium">Medium</button>
                <button class="diff-btn" data-diff="hard">Hard</button>
                <button class="diff-btn" data-diff="expert">Expert</button>
            </div>

            <div class="setup-layout">
                <!-- Ship list -->
                <div class="ship-rack" id="ship-rack">
                    <h3 id="fleet-title">Roman Fleet</h3>
                    <div class="rack-ship selected" data-ship="quinquereme" data-len="5">
                        <span class="rack-name">Quinquereme</span>
                        <span class="rack-pips"><i></i><i></i><i></i><i></i><i></i></span>
                    </div>
                    <div class="rack-ship" data-ship="roman_trireme" data-len="4">
                        <span class="rack-name">Roman Trireme</span>
                        <span class="rack-pips"><i></i><i></i><i></i><i></i></span>
                    </div>
                    <div class="rack-ship" data-ship="greek_trireme" data-len="3">
                        <span class="rack-name">Greek Trireme</span>
                        <span class="rack-pips"><i></i><i></i><i></i></span>
                    </div>
                    <div class="rack-ship" data-ship="bireme" data-len="3">
                        <span class="rack-name">Bireme</span>
                        <span class="rack-pips"><i></i><i></i><i></i></span>
                    </div>
                    <div class="rack-ship" data-ship="scout_galley" data-len="2">
                        <span class="rack-name">Scout Galley</span>
                        <span class="rack-pips"><i></i><i></i></span>
                    </div>
                    <div class="rack-controls">
                        <button id="orient-btn" class="control-btn orient-btn">‚Üî Horizontal</button>
                        <button id="random-btn" class="control-btn">üé≤ Random</button>
                    </div>
                </div>

                <!-- Placement board -->
                <div class="board-container rome-board-container">
                    <h3 class="board-title rome-title">Rome Waters</h3>
                    <div class="board" id="setup-board"></div>
                </div>
            </div>

            <button id="start-war-btn" class="start-war-btn" disabled>‚öîÔ∏è Begin the War!</button>
        </div>
    </div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BATTLE SCREEN ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="screen hidden" id="battle-screen">
        <div class="container">
            <header>
                <h1>‚öîÔ∏è Naval War: Rome vs Greece ‚öîÔ∏è</h1>
                <div class="game-info">
                    <div class="turn-indicator rome-turn" id="turn-indicator">Rome's Turn</div>
                    <div class="fleet-status">
                        <span class="rome-status">üèõÔ∏è Rome: <strong id="rome-ships">5</strong> ships</span>
                        <span class="vs">vs</span>
                        <span class="greece-status">üè∫ Greece: <strong id="greece-ships">5</strong> ships</span>
                    </div>
                    <div class="game-stats">
                        <div class="stats-side rome-stats">
                            <span class="stats-label">Rome</span>
                            <span class="stat-item">Shots: <strong id="rome-shots">0</strong></span>
                            <span class="stat-item">Hits: <strong id="rome-hits">0</strong></span>
                            <span class="stat-item">Sunk: <strong id="rome-sunk">0</strong></span>
                        </div>
                        <div class="stats-side greece-stats">
                            <span class="stats-label">Greece</span>
                            <span class="stat-item">Shots: <strong id="greece-shots">0</strong></span>
                            <span class="stat-item">Hits: <strong id="greece-hits">0</strong></span>
                            <span class="stat-item">Sunk: <strong id="greece-sunk">0</strong></span>
                        </div>
                    </div>
                    <div class="diff-display" id="diff-display">Easy</div>
                </div>
            </header>

            <main>
                <!-- Arrow overlay (flies between boards) -->
                <svg id="arrow-svg" class="arrow-svg-overlay" viewBox="0 0 1000 600" preserveAspectRatio="xMidYMid meet">
                    <defs>
                        <!-- Dark arrowhead (universal) -->
                        <marker id="arrowhead" markerWidth="18" markerHeight="12" refX="16" refY="6" orient="auto">
                            <polygon points="0 1, 4 0, 18 6, 4 12, 0 11, 3 6" fill="#1a1a1a"/>
                        </marker>
                        <!-- Dark nock band near arrowhead -->
                        <linearGradient id="shaft-wood" x1="0" y1="0" x2="1" y2="0">
                            <stop offset="0%" stop-color="#c8a960"/>
                            <stop offset="50%" stop-color="#dfc580"/>
                            <stop offset="100%" stop-color="#b89450"/>
                        </linearGradient>
                        <!-- Fletching Rome (crimson feathers) -->
                        <marker id="fl-r" markerWidth="22" markerHeight="16" refX="2" refY="8" orient="auto">
                            <rect x="0" y="6" width="4" height="4" fill="#1a1a1a" rx="1"/>
                            <path d="M4,8 L14,1 L16,2.5 L7,8 L16,13.5 L14,15 Z" fill="#c0392b" opacity=".85"/>
                            <path d="M7,8 L17,2 L19,3.5 L10,8 L19,12.5 L17,14 Z" fill="#8e2020" opacity=".6"/>
                            <rect x="19" y="6" width="3" height="4" fill="#1a1a1a" rx="1"/>
                        </marker>
                        <!-- Fletching Greece (blue feathers) -->
                        <marker id="fl-l" markerWidth="22" markerHeight="16" refX="2" refY="8" orient="auto">
                            <rect x="0" y="6" width="4" height="4" fill="#1a1a1a" rx="1"/>
                            <path d="M4,8 L14,1 L16,2.5 L7,8 L16,13.5 L14,15 Z" fill="#2471a3" opacity=".85"/>
                            <path d="M7,8 L17,2 L19,3.5 L10,8 L19,12.5 L17,14 Z" fill="#1a5276" opacity=".6"/>
                            <rect x="19" y="6" width="3" height="4" fill="#1a1a1a" rx="1"/>
                        </marker>
                    </defs>
                    <line id="arrow-line" class="arrow-line"
                          x1="0" y1="0" x2="0" y2="0"
                          stroke="#c8a960" stroke-width="3"
                          marker-end="url(#arrowhead)" marker-start="url(#fl-r)"/>
                </svg>

                <!-- Game Boards + Battle Log wrapper -->
                <div class="boards-and-log">
                    <div class="game-boards" id="game-boards">
                        <div class="board-container rome-board-container">
                            <div class="board-title-row">
                                <img id="archer-rome" class="archer archer-rome" src="img/archer-rome.svg" alt="Rome Archer"/>
                                <h3 class="board-title rome-title">Rome Waters</h3>
                            </div>
                            <div class="board" id="rome-board"></div>
                        </div>
                        <div class="board-container greece-board-container">
                            <div class="board-title-row">
                                <h3 class="board-title greece-title">Greek Waters</h3>
                                <img id="archer-greece" class="archer archer-greece" src="img/archer-greece.svg" alt="Greece Archer"/>
                            </div>
                            <div class="board" id="greece-board"></div>
                        </div>
                    </div>

                    <!-- Message Log -->
                    <div class="message-log" id="message-log">
                        <h4>Battle Log</h4>
                        <div class="log-entries" id="log-entries">
                            <p class="log-entry">The fleets are assembled. Rome strikes first!</p>
                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="game-controls">
                    <button id="restart-btn" class="control-btn restart-btn">‚öîÔ∏è Restart War</button>
                </div>
            </main>
        </div>
    </div>

    <script src="ocean.js"></script>
    <script src="script.js"></script>
</body>
</html>
